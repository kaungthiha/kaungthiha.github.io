---
layout: default
title: Capital One Attendance Tracker
permalink: "/tools/attendance-tracker/"
comments: false
---

<div id="attendance-tracker-root"></div>

<!-- Load React, ReactDOM, and Babel from CDN -->
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<!-- Tailwind CSS via CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Configure Tailwind to avoid conflicts -->
<script>
  tailwind.config = {
    prefix: 'tw-',
    corePlugins: {
      preflight: false
    }
  }
</script>

<!-- Attendance Tracker React Component -->
<script type="text/babel">
{% raw %}
  const { useState, useEffect } = React;

  /* Period data with all 13 periods from 2026 schedule */

  function expandDateRange(startStr, endStr) {
    const dates = [];
    const start = new Date(startStr + 'T00:00:00');
    const end = new Date(endStr + 'T00:00:00');
    for (let d = new Date(start); d <= end; d.setDate(d.getDate() + 1)) {
      const dow = d.getDay();
      if (dow !== 0 && dow !== 6) {
        dates.push(d.toISOString().split('T')[0]);
      }
    }
    return dates;
  }

  const PERIODS = [
    {
      id: 1,
      name: "Dec 3 Period",
      communicationDate: "2025-12-03",
      windowStart: "2025-08-15",
      windowEnd: "2025-11-14",
      holidays: ["2025-09-01", "2025-10-13", "2025-11-11"]
    },
    {
      id: 2,
      name: "Jan 28 Period",
      communicationDate: "2026-01-28",
      windowStart: "2025-10-20",
      windowEnd: "2026-01-16",
      holidays: [
        "2025-11-11",
        ...expandDateRange("2025-11-24", "2025-11-28"),
        ...expandDateRange("2025-12-22", "2026-01-02")
      ]
    },
    {
      id: 3,
      name: "Feb 25 Period",
      communicationDate: "2026-02-25",
      windowStart: "2025-11-17",
      windowEnd: "2026-02-13",
      holidays: [
        ...expandDateRange("2025-11-24", "2025-11-28"),
        ...expandDateRange("2025-12-22", "2026-01-02"),
        "2026-01-19"
      ]
    },
    {
      id: 4,
      name: "Mar 25 Period",
      communicationDate: "2026-03-25",
      windowStart: "2025-12-15",
      windowEnd: "2026-03-13",
      holidays: [
        ...expandDateRange("2025-12-22", "2026-01-02"),
        "2026-01-19",
        "2026-02-16"
      ]
    },
    {
      id: 5,
      name: "Apr 29 Period",
      communicationDate: "2026-04-29",
      windowStart: "2026-01-19",
      windowEnd: "2026-04-17",
      holidays: ["2026-01-19", "2026-02-16"]
    },
    {
      id: 6,
      name: "May 27 Period",
      communicationDate: "2026-05-27",
      windowStart: "2026-02-16",
      windowEnd: "2026-05-15",
      holidays: ["2026-02-16"]
    },
    {
      id: 7,
      name: "Jun 24 Period",
      communicationDate: "2026-06-24",
      windowStart: "2026-03-16",
      windowEnd: "2026-06-12",
      holidays: ["2026-05-25"],
      hasStrategySessions: true
    },
    {
      id: 8,
      name: "Jul 29 Period",
      communicationDate: "2026-07-29",
      windowStart: "2026-04-20",
      windowEnd: "2026-07-17",
      holidays: [
        "2026-05-25",
        "2026-06-19",
        ...expandDateRange("2026-06-29", "2026-07-03")
      ],
      hasStrategySessions: true
    },
    {
      id: 9,
      name: "Aug 26 Period",
      communicationDate: "2026-08-26",
      windowStart: "2026-05-18",
      windowEnd: "2026-08-14",
      holidays: [
        "2026-05-25",
        "2026-06-19",
        ...expandDateRange("2026-06-29", "2026-07-03")
      ],
      hasStrategySessions: true
    },
    {
      id: 10,
      name: "Sep 30 Period",
      communicationDate: "2026-09-30",
      windowStart: "2026-06-22",
      windowEnd: "2026-09-18",
      holidays: [
        ...expandDateRange("2026-06-29", "2026-07-03"),
        "2026-09-07"
      ]
    },
    {
      id: 11,
      name: "Oct 28 Period",
      communicationDate: "2026-10-28",
      windowStart: "2026-07-20",
      windowEnd: "2026-10-16",
      holidays: ["2026-09-07", "2026-10-12"]
    },
    {
      id: 12,
      name: "Dec 2 Period",
      communicationDate: "2026-12-02",
      windowStart: "2026-08-17",
      windowEnd: "2026-11-13",
      holidays: ["2026-09-07", "2026-10-12", "2026-11-11"]
    },
    {
      id: 13,
      name: "Jan 6 Period",
      communicationDate: "2027-01-06",
      windowStart: "2026-09-21",
      windowEnd: "2026-12-18",
      holidays: [
        "2026-10-12",
        "2026-11-11",
        ...expandDateRange("2026-11-23", "2026-11-27")
      ]
    }
  ];

  /* Utility functions */
  function isWeekend(dateStr) {
    const d = new Date(dateStr + 'T00:00:00');
    const dow = d.getDay();
    return dow === 0 || dow === 6;
  }

  function formatDate(dateStr) {
    const d = new Date(dateStr + 'T00:00:00');
    return d.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
  }

  function formatMonthYear(date) {
    return date.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
  }

  function calculateProration(period, strategySessions, exceptionDates) {
    const baseEligible = 65;
    const baseRequirement = 20;

    let allExclusions = [...period.holidays];

    if (period.hasStrategySessions && strategySessions) {
      const sessionsInPeriod = strategySessions.filter(date =>
        date >= period.windowStart && date <= period.windowEnd && !isWeekend(date)
      );
      allExclusions = [...allExclusions, ...sessionsInPeriod];
    }

    if (exceptionDates) {
      const exceptionsInPeriod = exceptionDates.filter(date =>
        date >= period.windowStart && date <= period.windowEnd && !isWeekend(date)
      );
      allExclusions = [...allExclusions, ...exceptionsInPeriod];
    }

    const uniqueExclusions = [...new Set(allExclusions)];
    const exclusionCount = uniqueExclusions.length;

    const newEligible = baseEligible - exclusionCount;
    const newRequirement = Math.ceil(baseRequirement * (newEligible / baseEligible));

    return {
      baseEligibleDays: baseEligible,
      holidays: period.holidays.length,
      remoteDays: 0,
      prorateExceptions: exclusionCount - period.holidays.length,
      newEligibleDays: newEligible,
      newRequirement: newRequirement,
      formula: `ceil(20 Ã— ${newEligible}/65) = ceil(${(20 * newEligible / 65).toFixed(2)}) = ${newRequirement}`
    };
  }

  function countAttendance(period, attendedDates, strategySessions, exceptionDates) {
    let allExclusions = [...period.holidays];

    if (period.hasStrategySessions && strategySessions) {
      const sessionsInPeriod = strategySessions.filter(date =>
        date >= period.windowStart && date <= period.windowEnd && !isWeekend(date)
      );
      allExclusions = [...allExclusions, ...sessionsInPeriod];
    }

    if (exceptionDates) {
      const exceptionsInPeriod = exceptionDates.filter(date =>
        date >= period.windowStart && date <= period.windowEnd && !isWeekend(date)
      );
      allExclusions = [...allExclusions, ...exceptionsInPeriod];
    }

    return attendedDates.filter(date => {
      const inWindow = date >= period.windowStart && date <= period.windowEnd;
      const notExcluded = !allExclusions.includes(date);
      const notWeekend = !isWeekend(date);
      return inWindow && notExcluded && notWeekend;
    }).length;
  }

  function getDayStatus(dateStr, periods, attendedDates, strategySessions, exceptionDates) {
    const isWeekendDay = isWeekend(dateStr);

    let allHolidays = [];
    periods.forEach(p => {
      allHolidays.push(...p.holidays);
      if (p.hasStrategySessions && strategySessions) {
        const sessionsInPeriod = strategySessions.filter(date =>
          date >= p.windowStart && date <= p.windowEnd && !isWeekend(date)
        );
        allHolidays.push(...sessionsInPeriod);
      }
    });

    const isHoliday = allHolidays.includes(dateStr);
    const isException = exceptionDates && exceptionDates.includes(dateStr);
    const isAttended = attendedDates.includes(dateStr);
    const periodCount = periods.filter(p => dateStr >= p.windowStart && dateStr <= p.windowEnd).length;

    let type = 'available';
    if (isWeekendDay) type = 'weekend';
    else if (isHoliday) type = 'holiday';
    else if (isException) type = 'exception';
    else if (isAttended) type = 'attended';

    return {
      type: type,
      periodCount: periodCount,
      clickable: !isWeekendDay && !isHoliday
    };
  }

  /* Main Attendance Tracker Component */
  function AttendanceTracker() {
    const [attendedDates, setAttendedDates] = useState([]);
    const [exceptionDates, setExceptionDates] = useState([]);
    const [strategySessions, setStrategySessions] = useState([]);
    const [currentMonth, setCurrentMonth] = useState(new Date(2025, 7, 1));
    const [showSettings, setShowSettings] = useState(false);
    const [showAllPeriods, setShowAllPeriods] = useState(false);

    // Load from localStorage
    useEffect(() => {
      const saved = localStorage.getItem('c1_attendance_tracker');
      if (saved) {
        try {
          const data = JSON.parse(saved);
          setAttendedDates(data.attendedDates || []);
          setExceptionDates(data.exceptionDates || []);
          setStrategySessions(data.strategySessions || []);
        } catch (e) {
          console.error('Failed to load saved data:', e);
        }
      }
    }, []);

    // Save to localStorage
    useEffect(() => {
      const data = {
        version: "1.0",
        lastUpdated: new Date().toISOString(),
        attendedDates,
        exceptionDates,
        strategySessions
      };
      localStorage.setItem('c1_attendance_tracker', JSON.stringify(data));
    }, [attendedDates, exceptionDates, strategySessions]);

    const toggleAttendance = (dateStr) => {
      // Three-state cycle: Available -> Attended -> Exception -> Available
      if (!attendedDates.includes(dateStr) && !exceptionDates.includes(dateStr)) {
        // Available -> Attended
        setAttendedDates(prev => [...prev, dateStr].sort());
      } else if (attendedDates.includes(dateStr)) {
        // Attended -> Exception
        setAttendedDates(prev => prev.filter(d => d !== dateStr));
        setExceptionDates(prev => [...prev, dateStr].sort());
      } else if (exceptionDates.includes(dateStr)) {
        // Exception -> Available
        setExceptionDates(prev => prev.filter(d => d !== dateStr));
      }
    };

    const exportData = () => {
      const data = {
        version: "1.0",
        exportDate: new Date().toISOString(),
        attendedDates,
        exceptionDates,
        strategySessions
      };
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `c1-attendance-${new Date().toISOString().split('T')[0]}.json`;
      a.click();
      URL.revokeObjectURL(url);
    };

    const importData = (event) => {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          const data = JSON.parse(e.target.result);
          setAttendedDates(data.attendedDates || []);
          setExceptionDates(data.exceptionDates || []);
          setStrategySessions(data.strategySessions || []);
          alert('Data imported successfully!');
        } catch (error) {
          alert('Failed to import data. Please check the file format.');
        }
      };
      reader.readAsText(file);
    };

    const clearAllData = () => {
      if (confirm('Are you sure you want to clear all attendance data? This cannot be undone.')) {
        setAttendedDates([]);
        setExceptionDates([]);
        setStrategySessions([]);
        localStorage.removeItem('c1_attendance_tracker');
        alert('All data cleared.');
      }
    };

    const addStrategySession = (dateStr) => {
      if (!strategySessions.includes(dateStr)) {
        setStrategySessions(prev => [...prev, dateStr].sort());
      }
    };

    const removeStrategySession = (dateStr) => {
      setStrategySessions(prev => prev.filter(d => d !== dateStr));
    };

    // Get relevant periods (current and upcoming)
    const getRelevantPeriods = () => {
      const today = new Date().toISOString().split('T')[0];
      const currentPeriods = PERIODS.filter(p => today >= p.windowStart && today <= p.windowEnd);

      if (currentPeriods.length >= 3) {
        return currentPeriods.slice(0, 3);
      }

      // Add upcoming periods if needed
      const upcomingPeriods = PERIODS.filter(p => today < p.windowStart).slice(0, 3 - currentPeriods.length);
      return [...currentPeriods, ...upcomingPeriods];
    };

    return (
      <div className="tw-max-w-7xl tw-mx-auto tw-p-4 md:tw-p-6 tw-min-h-screen">
        {/* Disclaimer Banner */}
        <div className="tw-bg-gradient-to-r tw-from-amber-50 tw-to-yellow-50 tw-border tw-border-amber-200 tw-rounded-xl tw-p-5 tw-mb-6 tw-shadow-sm">
          <div className="tw-flex tw-items-start tw-gap-4">
            <div className="tw-flex-shrink-0 tw-mt-0.5">
              <svg className="tw-h-6 tw-w-6 tw-text-amber-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                <path strokeLinecap="round" strokeLinejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
              </svg>
            </div>
            <div className="tw-flex-1">
              <h3 className="tw-text-sm tw-font-semibold tw-text-amber-900 tw-mb-1">Personal Tracking Tool</h3>
              <p className="tw-text-sm tw-text-amber-800 tw-leading-relaxed">
                This is a personal attendance tracker and does not indicate enterprise compliance. Not associated with HR.
              </p>
            </div>
          </div>
        </div>

        {/* Import/Export Bar */}
        <div className="tw-bg-white tw-rounded-xl tw-shadow-md tw-border tw-border-gray-200 tw-p-5 tw-mb-6">
          <div className="tw-flex tw-flex-wrap tw-gap-3">
            <button
              onClick={exportData}
              className="tw-inline-flex tw-items-center tw-justify-center tw-gap-2 tw-bg-blue-600 tw-text-white tw-px-5 tw-py-2.5 tw-rounded-lg tw-font-medium tw-text-sm hover:tw-bg-blue-700 focus:tw-ring-4 focus:tw-ring-blue-200 tw-transition-all tw-shadow-sm hover:tw-shadow active:tw-scale-95 tw-min-w-[160px]"
            >
              <svg className="tw-w-5 tw-h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                <path strokeLinecap="round" strokeLinejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
              </svg>
              Export Backup
            </button>
            <label className="tw-inline-flex tw-items-center tw-justify-center tw-gap-2 tw-bg-emerald-600 tw-text-white tw-px-5 tw-py-2.5 tw-rounded-lg tw-font-medium tw-text-sm hover:tw-bg-emerald-700 focus-within:tw-ring-4 focus-within:tw-ring-emerald-200 tw-transition-all tw-cursor-pointer tw-shadow-sm hover:tw-shadow active:tw-scale-95 tw-min-w-[160px]">
              <svg className="tw-w-5 tw-h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                <path strokeLinecap="round" strokeLinejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
              </svg>
              Import Backup
              <input type="file" accept=".json" onChange={importData} className="tw-hidden" />
            </label>
            <button
              onClick={() => setShowSettings(true)}
              className="tw-inline-flex tw-items-center tw-justify-center tw-gap-2 tw-bg-slate-600 tw-text-white tw-px-5 tw-py-2.5 tw-rounded-lg tw-font-medium tw-text-sm hover:tw-bg-slate-700 focus:tw-ring-4 focus:tw-ring-slate-200 tw-transition-all tw-shadow-sm hover:tw-shadow active:tw-scale-95 tw-min-w-[160px]"
            >
              <svg className="tw-w-5 tw-h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                <path strokeLinecap="round" strokeLinejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                <path strokeLinecap="round" strokeLinejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
              Settings
            </button>
            <button
              onClick={clearAllData}
              className="tw-inline-flex tw-items-center tw-justify-center tw-gap-2 tw-bg-red-600 tw-text-white tw-px-5 tw-py-2.5 tw-rounded-lg tw-font-medium tw-text-sm hover:tw-bg-red-700 focus:tw-ring-4 focus:tw-ring-red-200 tw-transition-all tw-shadow-sm hover:tw-shadow active:tw-scale-95 tw-min-w-[160px]"
            >
              <svg className="tw-w-5 tw-h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                <path strokeLinecap="round" strokeLinejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
              </svg>
              Clear All Data
            </button>
          </div>
        </div>

        {/* Calendar View - Now First */}
        <CalendarView
          currentMonth={currentMonth}
          setCurrentMonth={setCurrentMonth}
          periods={PERIODS}
          attendedDates={attendedDates}
          exceptionDates={exceptionDates}
          strategySessions={strategySessions}
          toggleAttendance={toggleAttendance}
        />

        {/* Relevant Periods - Below Calendar */}
        <div className="tw-mt-8">
          <div className="tw-flex tw-items-center tw-justify-between tw-mb-6">
            <div className="tw-flex tw-items-center tw-gap-3">
              <svg className="tw-w-6 tw-h-6 tw-text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                <path strokeLinecap="round" strokeLinejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
              </svg>
              <h2 className="tw-text-2xl tw-font-bold tw-text-gray-900">Relevant Periods</h2>
            </div>
            <button
              onClick={() => setShowAllPeriods(true)}
              className="tw-inline-flex tw-items-center tw-gap-2 tw-bg-blue-600 tw-text-white tw-px-4 tw-py-2 tw-rounded-lg tw-font-medium tw-text-sm hover:tw-bg-blue-700 focus:tw-ring-4 focus:tw-ring-blue-200 tw-transition-all tw-shadow-sm hover:tw-shadow"
            >
              <svg className="tw-w-5 tw-h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                <path strokeLinecap="round" strokeLinejoin="round" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
              </svg>
              View All Periods
            </button>
          </div>
          <div className="tw-grid tw-grid-cols-1 md:tw-grid-cols-3 tw-gap-5">
            {getRelevantPeriods().map(period => (
              <PeriodCard
                key={period.id}
                period={period}
                attendedDates={attendedDates}
                exceptionDates={exceptionDates}
                strategySessions={strategySessions}
              />
            ))}
          </div>
        </div>

        {/* All Periods Modal */}
        {showAllPeriods && (
          <AllPeriodsModal
            periods={PERIODS}
            attendedDates={attendedDates}
            exceptionDates={exceptionDates}
            strategySessions={strategySessions}
            onClose={() => setShowAllPeriods(false)}
          />
        )}

        {/* Settings Modal */}
        {showSettings && (
          <SettingsModal
            strategySessions={strategySessions}
            addStrategySession={addStrategySession}
            removeStrategySession={removeStrategySession}
            onClose={() => setShowSettings(false)}
          />
        )}
      </div>
    );
  }

  /* All Periods Modal Component */
  function AllPeriodsModal({ periods, attendedDates, exceptionDates, strategySessions, onClose }) {
    return (
      <div className="tw-fixed tw-inset-0 tw-bg-black/60 tw-backdrop-blur-sm tw-flex tw-items-start tw-justify-center tw-z-50 tw-p-4 tw-overflow-y-auto" onClick={onClose}>
        <div className="tw-bg-white tw-rounded-2xl tw-shadow-2xl tw-max-w-7xl tw-w-full tw-my-8" onClick={(e) => e.stopPropagation()}>
          {/* Header */}
          <div className="tw-bg-gradient-to-r tw-from-blue-600 tw-to-blue-700 tw-px-6 tw-py-5 tw-sticky tw-top-0 tw-z-10 tw-rounded-t-2xl">
            <div className="tw-flex tw-items-center tw-justify-between">
              <div className="tw-flex tw-items-center tw-gap-3">
                <svg className="tw-w-7 tw-h-7 tw-text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                  <path strokeLinecap="round" strokeLinejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                </svg>
                <h3 className="tw-text-2xl tw-font-bold tw-text-white">All Periods (2026)</h3>
              </div>
              <button
                onClick={onClose}
                className="tw-text-white/80 hover:tw-text-white hover:tw-bg-white/10 tw-p-2 tw-rounded-lg tw-transition-colors focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-white/30"
                aria-label="Close"
              >
                <svg className="tw-w-6 tw-h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                  <path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
          </div>

          {/* Body */}
          <div className="tw-p-6">
            <div className="tw-grid tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 tw-gap-5">
              {periods.map(period => (
                <PeriodCard
                  key={period.id}
                  period={period}
                  attendedDates={attendedDates}
                  exceptionDates={exceptionDates}
                  strategySessions={strategySessions}
                />
              ))}
            </div>
          </div>
        </div>
      </div>
    );
  }

  /* Period Card Component */
  function PeriodCard({ period, attendedDates, exceptionDates, strategySessions }) {
    const [showTooltip, setShowTooltip] = useState(false);
    const proration = calculateProration(period, strategySessions, exceptionDates);
    const attended = countAttendance(period, attendedDates, strategySessions, exceptionDates);
    const remaining = Math.max(0, proration.newRequirement - attended);
    const progress = (attended / proration.newRequirement) * 100;
    const isComplete = attended >= proration.newRequirement;

    const today = new Date().toISOString().split('T')[0];
    const isCurrent = today >= period.windowStart && today <= period.windowEnd;

    return (
      <div className={`tw-group tw-bg-white tw-rounded-xl tw-shadow-lg tw-p-5 tw-border-2 ${isCurrent ? 'tw-border-blue-500 tw-ring-4 tw-ring-blue-100' : 'tw-border-gray-200'} hover:tw-shadow-xl hover:tw-border-blue-300 tw-transition-all tw-duration-300`}>
        <div className="tw-flex tw-justify-between tw-items-start tw-mb-3">
          <div className="tw-flex tw-items-center tw-gap-2">
            <div className={`tw-w-2 tw-h-2 tw-rounded-full ${isCurrent ? 'tw-bg-blue-500 tw-animate-pulse' : 'tw-bg-gray-300'}`}></div>
            <h3 className="tw-text-lg tw-font-bold tw-text-gray-900">{period.name}</h3>
          </div>
          <div className="tw-relative">
            <button
              onMouseEnter={() => setShowTooltip(true)}
              onMouseLeave={() => setShowTooltip(false)}
              className="tw-text-blue-600 hover:tw-text-blue-700 hover:tw-bg-blue-50 tw-p-1.5 tw-rounded-lg tw-transition-colors focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-blue-300"
              aria-label="Show proration details"
            >
              <svg className="tw-w-5 tw-h-5" fill="currentColor" viewBox="0 0 20 20">
                <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd" />
              </svg>
            </button>
            {showTooltip && (
              <div className="tw-absolute tw-z-20 tw-bg-slate-900 tw-text-white tw-text-xs tw-rounded-lg tw-p-4 tw-w-72 tw-right-0 tw-top-8 tw-shadow-2xl tw-border tw-border-slate-700">
                <div className="tw-absolute tw--top-1 tw-right-3 tw-w-2 tw-h-2 tw-bg-slate-900 tw-border-t tw-border-l tw-border-slate-700 tw-rotate-45"></div>
                <p className="tw-font-bold tw-mb-2 tw-text-sm tw-text-blue-300">ðŸ“Š Proration Details</p>
                <div className="tw-space-y-1.5">
                  <p className="tw-flex tw-justify-between"><span>Base eligible days:</span><span className="tw-font-semibold">{proration.baseEligibleDays}</span></p>
                  <p className="tw-flex tw-justify-between tw-text-red-300"><span>Holidays:</span><span className="tw-font-semibold">-{proration.holidays}</span></p>
                  {proration.prorateExceptions > 0 && <p className="tw-flex tw-justify-between tw-text-orange-300"><span>Exception days:</span><span className="tw-font-semibold">-{proration.prorateExceptions}</span></p>}
                  <div className="tw-border-t tw-border-slate-700 tw-my-2"></div>
                  <p className="tw-flex tw-justify-between tw-text-emerald-300"><span>New Eligible Days:</span><span className="tw-font-semibold">{proration.newEligibleDays}</span></p>
                  <p className="tw-flex tw-justify-between tw-text-yellow-300"><span>New Requirement:</span><span className="tw-font-bold">{proration.newRequirement}</span></p>
                  <p className="tw-mt-2 tw-text-yellow-200 tw-text-xs tw-font-mono tw-bg-slate-800 tw-px-2 tw-py-1 tw-rounded">{proration.formula}</p>
                </div>
              </div>
            )}
          </div>
        </div>
        <div className="tw-flex tw-items-center tw-gap-2 tw-text-sm tw-text-gray-600 tw-mb-4">
          <svg className="tw-w-4 tw-h-4 tw-text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
            <path strokeLinecap="round" strokeLinejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
          <span>{formatDate(period.windowStart)} â€“ {formatDate(period.windowEnd)}</span>
        </div>

        {/* Progress Bar */}
        <div className="tw-relative tw-w-full tw-bg-gray-100 tw-rounded-full tw-h-4 tw-mb-3 tw-overflow-hidden">
          <div
            className={`tw-h-4 tw-rounded-full tw-transition-all tw-duration-500 ${isComplete ? 'tw-bg-gradient-to-r tw-from-green-500 tw-to-emerald-500' : 'tw-bg-gradient-to-r tw-from-blue-500 tw-to-blue-600'}`}
            style={{ width: `${Math.min(progress, 100)}%` }}
          >
            <div className="tw-h-full tw-w-full tw-bg-white tw-opacity-20 tw-animate-pulse"></div>
          </div>
        </div>

        <div className="tw-flex tw-justify-between tw-items-center">
          <p className="tw-text-sm tw-font-semibold tw-text-gray-800">
            <span className="tw-text-2xl tw-font-bold tw-text-blue-600">{attended}</span>
            <span className="tw-text-gray-500"> / {proration.newRequirement}</span>
            {proration.newRequirement !== 20 && <span className="tw-text-xs tw-text-gray-400 tw-ml-1">(was 20)</span>}
          </p>
          {isComplete ? (
            <span className="tw-inline-flex tw-items-center tw-gap-1.5 tw-bg-green-100 tw-text-green-700 tw-px-3 tw-py-1.5 tw-rounded-full tw-font-semibold tw-text-xs">
              <svg className="tw-w-4 tw-h-4" fill="currentColor" viewBox="0 0 20 20">
                <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
              </svg>
              Completed
            </span>
          ) : (
            <span className="tw-inline-flex tw-items-center tw-gap-1.5 tw-bg-orange-100 tw-text-orange-700 tw-px-3 tw-py-1.5 tw-rounded-full tw-font-semibold tw-text-xs">
              <svg className="tw-w-4 tw-h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                <path strokeLinecap="round" strokeLinejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              {remaining} remaining
            </span>
          )}
        </div>
      </div>
    );
  }

  /* Calendar View Component */
  function CalendarView({ currentMonth, setCurrentMonth, periods, attendedDates, exceptionDates, strategySessions, toggleAttendance }) {
    const daysInMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0).getDate();
    const firstDayOfMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1).getDay();

    const prevMonth = () => {
      setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, 1));
    };

    const nextMonth = () => {
      setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 1));
    };

    const goToToday = () => {
      setCurrentMonth(new Date());
    };

    const days = [];
    for (let i = 0; i < firstDayOfMonth; i++) {
      days.push(<div key={`empty-${i}`} className="tw-p-2"></div>);
    }

    for (let day = 1; day <= daysInMonth; day++) {
      const dateStr = `${currentMonth.getFullYear()}-${String(currentMonth.getMonth() + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
      const status = getDayStatus(dateStr, periods, attendedDates, strategySessions, exceptionDates);

      let bgColor = 'tw-bg-white';
      let borderColor = 'tw-border-gray-300';
      let textColor = 'tw-text-gray-800';
      let extraClasses = '';

      if (status.type === 'weekend') {
        bgColor = 'tw-bg-gray-100';
        textColor = 'tw-text-gray-400';
      } else if (status.type === 'holiday') {
        bgColor = 'tw-bg-blue-100';
        borderColor = 'tw-border-blue-400';
      } else if (status.type === 'attended') {
        bgColor = 'tw-bg-green-100';
        borderColor = 'tw-border-green-500';
      } else if (status.type === 'exception') {
        bgColor = 'tw-bg-gradient-to-br tw-from-red-100 tw-to-red-200';
        borderColor = 'tw-border-red-500';
        textColor = 'tw-text-red-900';
      }

      days.push(
        <div
          key={day}
          onClick={() => status.clickable && toggleAttendance(dateStr)}
          className={`tw-group tw-p-3 tw-border-2 tw-rounded-xl ${bgColor} ${borderColor} ${status.clickable ? 'tw-cursor-pointer hover:tw-shadow-lg hover:tw-scale-105' : 'tw-cursor-not-allowed'} tw-transition-all tw-duration-200 tw-min-h-20 tw-relative focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-blue-400`}
          tabIndex={status.clickable ? 0 : -1}
          role={status.clickable ? "button" : undefined}
          aria-label={status.clickable ? `${day}, ${status.type}` : undefined}
        >
          <div className={`tw-font-bold tw-text-base ${textColor}`}>{day}</div>
          {status.periodCount > 0 && (
            <div className="tw-inline-flex tw-items-center tw-gap-1 tw-mt-1.5 tw-px-1.5 tw-py-0.5 tw-bg-white/60 tw-rounded-md tw-text-xs tw-font-medium tw-text-gray-700">
              <svg className="tw-w-3 tw-h-3" fill="currentColor" viewBox="0 0 20 20">
                <path fillRule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clipRule="evenodd" />
              </svg>
              {status.periodCount}
            </div>
          )}
        </div>
      );
    }

    return (
      <div className="tw-bg-white tw-rounded-xl tw-shadow-lg tw-border tw-border-gray-200 tw-overflow-hidden">
        <div className="tw-bg-gradient-to-r tw-from-blue-600 tw-to-blue-700 tw-px-6 tw-py-5 tw-flex tw-justify-between tw-items-center">
          <div className="tw-flex tw-items-center tw-gap-3">
            <svg className="tw-w-7 tw-h-7 tw-text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
              <path strokeLinecap="round" strokeLinejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
            <h2 className="tw-text-2xl tw-font-bold tw-text-white">
              {formatMonthYear(currentMonth)}
            </h2>
          </div>
          <div className="tw-flex tw-gap-2">
            <button
              onClick={prevMonth}
              className="tw-p-2.5 tw-bg-white/20 tw-text-white tw-rounded-lg hover:tw-bg-white/30 tw-transition-colors focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-white/50"
              aria-label="Previous month"
            >
              <svg className="tw-w-5 tw-h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                <path strokeLinecap="round" strokeLinejoin="round" d="M15 19l-7-7 7-7" />
              </svg>
            </button>
            <button
              onClick={goToToday}
              className="tw-px-4 tw-py-2.5 tw-bg-white tw-text-blue-600 tw-rounded-lg tw-font-semibold tw-text-sm hover:tw-bg-blue-50 tw-transition-colors focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-white/50"
            >
              Today
            </button>
            <button
              onClick={nextMonth}
              className="tw-p-2.5 tw-bg-white/20 tw-text-white tw-rounded-lg hover:tw-bg-white/30 tw-transition-colors focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-white/50"
              aria-label="Next month"
            >
              <svg className="tw-w-5 tw-h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                <path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7" />
              </svg>
            </button>
          </div>
        </div>

        <div className="tw-p-6">

          {/* Day headers */}
          <div className="tw-grid tw-grid-cols-7 tw-gap-3 tw-mb-3">
            {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (
              <div key={day} className="tw-text-center tw-font-bold tw-text-gray-500 tw-text-xs tw-uppercase tw-tracking-wide">{day}</div>
            ))}
          </div>

          {/* Calendar grid */}
          <div className="tw-grid tw-grid-cols-7 tw-gap-3">
            {days}
          </div>

          {/* Legend */}
          <div className="tw-mt-8 tw-pt-6 tw-border-t tw-border-gray-200">
            <h3 className="tw-text-sm tw-font-bold tw-text-gray-700 tw-mb-4 tw-uppercase tw-tracking-wide">Legend</h3>
            <div className="tw-grid tw-grid-cols-2 md:tw-grid-cols-5 tw-gap-4">
              <div className="tw-flex tw-items-center tw-gap-2.5 tw-p-2 tw-bg-gray-50 tw-rounded-lg">
                <div className="tw-w-6 tw-h-6 tw-bg-green-100 tw-border-2 tw-border-green-500 tw-rounded-lg tw-flex-shrink-0"></div>
                <span className="tw-text-sm tw-font-medium tw-text-gray-700">Attended</span>
              </div>
              <div className="tw-flex tw-items-center tw-gap-2.5 tw-p-2 tw-bg-gray-50 tw-rounded-lg">
                <div className="tw-w-6 tw-h-6 tw-bg-gradient-to-br tw-from-red-100 tw-to-red-200 tw-border-2 tw-border-red-500 tw-rounded-lg tw-flex-shrink-0"></div>
                <span className="tw-text-sm tw-font-medium tw-text-gray-700">Exception</span>
              </div>
              <div className="tw-flex tw-items-center tw-gap-2.5 tw-p-2 tw-bg-gray-50 tw-rounded-lg">
                <div className="tw-w-6 tw-h-6 tw-bg-blue-100 tw-border-2 tw-border-blue-400 tw-rounded-lg tw-flex-shrink-0"></div>
                <span className="tw-text-sm tw-font-medium tw-text-gray-700">Holiday</span>
              </div>
              <div className="tw-flex tw-items-center tw-gap-2.5 tw-p-2 tw-bg-gray-50 tw-rounded-lg">
                <div className="tw-w-6 tw-h-6 tw-bg-white tw-border-2 tw-border-gray-300 tw-rounded-lg tw-flex-shrink-0"></div>
                <span className="tw-text-sm tw-font-medium tw-text-gray-700">Available</span>
              </div>
              <div className="tw-flex tw-items-center tw-gap-2.5 tw-p-2 tw-bg-gray-50 tw-rounded-lg">
                <div className="tw-w-6 tw-h-6 tw-bg-gray-100 tw-rounded-lg tw-flex-shrink-0"></div>
                <span className="tw-text-sm tw-font-medium tw-text-gray-700">Weekend</span>
              </div>
            </div>
          </div>

          {/* Instructions */}
          <div className="tw-mt-6 tw-bg-gradient-to-r tw-from-blue-50 tw-to-indigo-50 tw-border tw-border-blue-200 tw-rounded-xl tw-p-4">
            <div className="tw-flex tw-items-start tw-gap-3">
              <svg className="tw-w-6 tw-h-6 tw-text-blue-600 tw-flex-shrink-0 tw-mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                <path strokeLinecap="round" strokeLinejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              <div>
                <p className="tw-text-sm tw-font-semibold tw-text-blue-900 tw-mb-1">How to mark attendance</p>
                <p className="tw-text-sm tw-text-blue-800">Click any available day to cycle through: <span className="tw-font-mono tw-font-semibold">Available â†’ Attended â†’ Exception â†’ Available</span></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  }

  /* Settings Modal Component */
  function SettingsModal({ strategySessions, addStrategySession, removeStrategySession, onClose }) {
    const [newDate, setNewDate] = useState('');

    const handleAdd = () => {
      if (newDate && !strategySessions.includes(newDate)) {
        addStrategySession(newDate);
        setNewDate('');
      }
    };

    return (
      <div className="tw-fixed tw-inset-0 tw-bg-black/60 tw-backdrop-blur-sm tw-flex tw-items-center tw-justify-center tw-z-50 tw-p-4" onClick={onClose}>
        <div className="tw-bg-white tw-rounded-2xl tw-shadow-2xl tw-max-w-lg tw-w-full tw-overflow-hidden" onClick={(e) => e.stopPropagation()}>
          {/* Header */}
          <div className="tw-bg-gradient-to-r tw-from-slate-700 tw-to-slate-800 tw-px-6 tw-py-5">
            <div className="tw-flex tw-items-center tw-justify-between">
              <div className="tw-flex tw-items-center tw-gap-3">
                <svg className="tw-w-6 tw-h-6 tw-text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                  <path strokeLinecap="round" strokeLinejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                  <path strokeLinecap="round" strokeLinejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <h3 className="tw-text-xl tw-font-bold tw-text-white">Strategy Session Dates</h3>
              </div>
              <button
                onClick={onClose}
                className="tw-text-white/80 hover:tw-text-white hover:tw-bg-white/10 tw-p-1.5 tw-rounded-lg tw-transition-colors focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-white/30"
                aria-label="Close"
              >
                <svg className="tw-w-5 tw-h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                  <path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
          </div>

          {/* Body */}
          <div className="tw-p-6">
            <div className="tw-bg-blue-50 tw-border tw-border-blue-200 tw-rounded-lg tw-p-4 tw-mb-6">
              <p className="tw-text-sm tw-text-blue-800 tw-leading-relaxed">
                Add dates for 2026 Strategy Sessions (TBD). These will be treated as prorate exceptions in periods 7, 8, and 9.
              </p>
            </div>

            <div className="tw-mb-6">
              <label className="tw-block tw-text-sm tw-font-bold tw-text-gray-700 tw-mb-3 tw-uppercase tw-tracking-wide">
                Add Strategy Session Date
              </label>
              <div className="tw-flex tw-gap-3">
                <input
                  type="date"
                  value={newDate}
                  onChange={(e) => setNewDate(e.target.value)}
                  className="tw-flex-1 tw-border-2 tw-border-gray-300 tw-rounded-lg tw-px-4 tw-py-2.5 tw-text-sm focus:tw-border-blue-500 focus:tw-ring-4 focus:tw-ring-blue-100 tw-transition-colors"
                  min="2026-03-16"
                  max="2026-08-14"
                />
                <button
                  onClick={handleAdd}
                  className="tw-bg-blue-600 tw-text-white tw-px-5 tw-py-2.5 tw-rounded-lg tw-font-semibold tw-text-sm hover:tw-bg-blue-700 focus:tw-ring-4 focus:tw-ring-blue-200 tw-transition-all active:tw-scale-95 tw-shadow-sm hover:tw-shadow"
                >
                  Add
                </button>
              </div>
            </div>

            <div className="tw-mb-6">
              <h4 className="tw-text-sm tw-font-bold tw-text-gray-700 tw-mb-3 tw-uppercase tw-tracking-wide">Configured Sessions</h4>
              <div className="tw-max-h-60 tw-overflow-y-auto tw-pr-2">
                {strategySessions.length === 0 ? (
                  <div className="tw-text-center tw-py-8 tw-text-gray-400">
                    <svg className="tw-w-12 tw-h-12 tw-mx-auto tw-mb-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="1">
                      <path strokeLinecap="round" strokeLinejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    <p className="tw-text-sm tw-font-medium">No strategy sessions configured yet</p>
                  </div>
                ) : (
                  <ul className="tw-space-y-2">
                    {strategySessions.map(date => (
                      <li key={date} className="tw-group tw-flex tw-justify-between tw-items-center tw-bg-gray-50 hover:tw-bg-gray-100 tw-p-3 tw-rounded-lg tw-border tw-border-gray-200 tw-transition-colors">
                        <div className="tw-flex tw-items-center tw-gap-2">
                          <svg className="tw-w-4 tw-h-4 tw-text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                            <path strokeLinecap="round" strokeLinejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                          </svg>
                          <span className="tw-text-sm tw-font-medium tw-text-gray-800">{formatDate(date)}</span>
                        </div>
                        <button
                          onClick={() => removeStrategySession(date)}
                          className="tw-text-red-600 hover:tw-text-red-700 hover:tw-bg-red-50 tw-px-3 tw-py-1.5 tw-rounded-md tw-text-sm tw-font-semibold tw-transition-colors focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-red-200"
                        >
                          Remove
                        </button>
                      </li>
                    ))}
                  </ul>
                )}
              </div>
            </div>
          </div>

          {/* Footer */}
          <div className="tw-bg-gray-50 tw-px-6 tw-py-4 tw-flex tw-justify-end tw-border-t tw-border-gray-200">
            <button
              onClick={onClose}
              className="tw-bg-slate-600 tw-text-white tw-px-6 tw-py-2.5 tw-rounded-lg tw-font-semibold tw-text-sm hover:tw-bg-slate-700 focus:tw-ring-4 focus:tw-ring-slate-200 tw-transition-all active:tw-scale-95 tw-shadow-sm hover:tw-shadow"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    );
  }

  /* Render the app */
  const root = ReactDOM.createRoot(document.getElementById('attendance-tracker-root'));
  root.render(<AttendanceTracker />);
{% endraw %}
</script>
